📦 app-demo
A minimal Node.js web app deployed to AWS ECS Fargate using Terraform and GitHub Actions CI/CD.

🛠️ Tech Stack
Node.js: Lightweight web server

Docker: Containerize the app

Terraform: Infrastructure as Code for ECS, ECR, Security Groups, etc.

AWS ECS (Fargate): Container hosting platform

ECR: Docker image registry on AWS

GitHub Actions: CI/CD to automate build and deployment

📁 Project Structure
bash
Copy
Edit
.
├── Dockerfile               # Build instruction for Docker image
├── index.js                # Node.js server (http)
├── terraform/
│   ├── main.tf             # Terraform infrastructure config
│   ├── variables.tf
│   └── terraform.tfvars    # Terraform input values
└── .github/
    └── workflows/
        └── deploy.yml      # GitHub Actions CI/CD pipeline
🚀 Features
✅ Auto build and push Docker image to Amazon ECR

✅ Auto deploy ECS Task with updated image

✅ Update image tag using commit hash

✅ Terraform-managed ECS cluster, service, task definition, and networking

⚙️ Setup Instructions
1. Clone the repo
bash
Copy
Edit
git clone https://github.com/<your-username>/app-demo.git
cd app-demo
2. Set up AWS ECR
bash
Copy
Edit
aws ecr create-repository --repository-name demo-app --region ap-southeast-2
Copy the output repositoryUri to use later.

3. Set GitHub Secrets
Go to your repo → Settings → Secrets → Actions → New repository secret

Name	Description
AWS_ACCESS_KEY_ID	IAM user's access key
AWS_SECRET_ACCESS_KEY	IAM user's secret
AWS_REGION	Region like ap-southeast-2
ECR_REPO_URI	Your ECR repo URI (e.g. 123456789012.dkr.ecr.ap-southeast-2.amazonaws.com/demo-app)

4. Edit terraform.tfvars
hcl
Copy
Edit
vpc_id         = "vpc-xxxxxxx"
subnet_ids     = ["subnet-aaa", "subnet-bbb"]
ecr_image_url  = "your-repo-uri:your-tag"
✅ If using CI/CD, this file will be auto-generated by GitHub Actions on each deploy.

5. Deploy manually (optional)
bash
Copy
Edit
cd terraform
terraform init
terraform apply
6. Push code and watch CI/CD 🎉
bash
Copy
Edit
git push origin main
GitHub Actions will:

🛠️ Build Docker image

📦 Push to ECR

🚀 Apply Terraform to deploy latest task

🌐 Access your app
After deployment, your app will be available at:

pgsql
Copy
Edit
http://<Public IP from ECS Task>
Make sure port 80 or 3000 is allowed in your security group!

📜 License
MIT

